% !TeX root = types25pp-sort.tex

\ProvidesPackage{macros}

\RequirePackage{amsthm}
\RequirePackage{xparse}
\RequirePackage{xcolor-solarized}
\RequirePackage{svg}
\RequirePackage{fontawesome5}
\RequirePackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=solarized-red,
  filecolor=solarized-magenta,
  urlcolor=solarized-blue
}

% cleveref setup
% \RequirePackage[nameinlink,capitalize]{cleveref}

% lists
\RequirePackage[inline]{enumitem}
\setlist{leftmargin=1.5em}
\RequirePackage{apxproof}
\RequirePackage{worldflags}

\usetikzlibrary{backgrounds}

%% itemize margin
\newenvironment{myitemize}
{\begin{itemize}[leftmargin=*]}
    {\end{itemize}}

% editing marks
\newcommand{\todo}[1]{{\color{solarized-red}TODO: #1}}
\ifx\note\undefined
  \newcommand{\note}[1]{\textcolor{solarized-green}{NOTE: #1}}
\fi
\newcommand{\redtext}[1]{\textcolor{solarized-red}{#1}}
\newcommand{\newtext}[1]{\textcolor{solarized-blue}{#1}}

% author marks
\newcommand{\vc}[1]{\textcolor{solarized-magenta}{VC: #1}}
\newcommand{\ww}[1]{\textcolor{solarized-blue}{WW: #1}}

% references
\makeatletter
\newcommand{\crefnames}[3]{%
  \@for\next:=#1\do{%
    \expandafter\crefname\expandafter{\next}{#2}{#3}%
  }%
}
\makeatother
%% shorten cref names
\crefnames{part,chapter,section,subsection}{\S}{\S\S}
\crefnames{paragraph}{\P}{\P\P}

% paragraphs
% \newcommand{\myparagraph}[1]{\noindent\textbf{#1.}}
% \makeatletter
% \renewcommand{\@subsubsecfont}{\sffamily\bfseries}
% \makeatother

% frenchquotes
\newcommand{\frenchquote}[1]{\guillemotleft{}#1\guillemotright{}}

%% nil and cons
\newcommand{\nil}{\term{nil}}
\newcommand{\doublecolon}[0]{\mathbin{\,\normalcolon\normalcolon\,}}
\newcommand{\cons}{\doublecolon}

% ++
\newcommand{\doubleplus}[0]{\mathbin{+\kern -0.4em+}}
% \newcommand\doubleplus{\mathbin{\text{\ttfamily\upshape ++}}}
\newcommand{\concat}{\doubleplus}
\newcommand{\append}{\concat}

%% two character variable names
\newcommand{\xs}{\ensuremath{\mathit{xs}}}
\newcommand{\ys}{\ensuremath{\mathit{ys}}}
\newcommand{\zs}{\ensuremath{\mathit{zs}}}
\newcommand{\ws}{\ensuremath{\mathit{ws}}}
\newcommand{\as}{\ensuremath{\mathit{as}}}
\newcommand{\bs}{\ensuremath{\mathit{bs}}}
\newcommand{\cs}{\ensuremath{\mathit{cs}}}
\newcommand{\ds}{\ensuremath{\mathit{ds}}}

% Bool
\newcommand{\boolt}{{\mathbf{2}}}

% mult
\newcommand{\mult}{\mathbin{\bullet}}

% constructions
\newcommand{\List}{\term{List}}
\newcommand{\Array}{\term{Array}}
\newcommand{\PList}{\term{PList}}
\newcommand{\SList}{\term{SList}}
\newcommand{\Bag}{\term{Bag}}
\newcommand{\Perm}{\term{Perm}}

% apxproof
\newtheoremrep{proposition}[theorem]{Proposition}
\newtheoremrep{lemma}[theorem]{Lemma}

% yoneda
\DeclareFontFamily{U}{min}{}
\DeclareFontShape{U}{min}{m}{n}{<-> udmj30}{}
\newcommand{\yo}
{\!\text{\usefont{U}{min}{m}{n}\symbol{'210}}\!}

% colored balls and flags
\newcommand{\rwb}{
  \tikz[baseline]{%
    \foreach \x/\color in {1/red,2/white,3/blue} {
        \node[circle,draw,fill=\color,line width=0.1em,minimum size=0.25em,anchor=base] at (\x,0.225em) {};
        \ifthenelse{\NOT 1 = \x}{\node at ({\x-0.5},0) {,};}{}
      }
  }
}

% sort
\newcommand{\issortedany}{\term{in-image}}
\newcommand{\issorted}[1]{{#1}\in\im{\mathfrak{s}}}
\newcommand{\inimage}[1]{{#1}\in\im{\mathfrak{s}}}

\newcommand{\isheadleast}{\term{isHeadLeast}}
\newcommand{\istailsort}{\term{isTailSorted}}
\newcommand{\ssection}{\mathfrak{s}}
\newcommand{\quotient}{\mathfrak{q}}

\newcommand{\setord}{\term{Ord}}
\newcommand{\Ord}{\term{Ord}}
\newcommand{\setmtol}{\term{M2L}}
\newcommand{\setsort}{\term{Sort}}
\newcommand{\Sort}{\term{Sort}}
\newcommand{\otof}{\term{o2f}}

%% artifact links
\makeatletter
\NewDocumentCommand{\alink}{mmo}{%
  \IfNoValueTF{#3}{%
    \href{https://symmetries.windtfw.com/types25pp.html\##1-\@currentlabel}{%
      \ifstrempty{#2}{\faCog}{\faCog~#2}%
    }%
  }{%
    \href{https://symmetries.windtfw.com/types25pp.html\##1-#3}{%
      \ifstrempty{#2}{\faCog}{\faCog~#2}%
    }%
  }%
}
\makeatother
